<div class="container">
    <form #myForm="ngForm" (ngSubmit)="register2(myForm)">
        <div class="form-group">
            <label>Name</label>
            <input type="text" class="form-control" 
                    [(ngModel)]="customer.name" name="t1" #t1="ngModel"
                    required minlength="3" />
            <div *ngIf="t1.invalid && (t1.dirty || t1.touched)" class="alert alert-danger">
                <div *ngIf="t1.hasError('required')">
                    Name cannot be blank
                </div>
                <div *ngIf="t1.hasError('minlength')">
                    Name should contain atleast 3 characters
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Email Address</label>
            <input type="email" class="form-control" 
                    [(ngModel)]="customer.email" name="t2"  #t2="ngModel"
                    required email emailDomainCheck />
            <div *ngIf="t2.invalid && (t2.dirty || t2.touched)" class="alert alert-danger">
                <div *ngIf="t2.hasError('required')">
                    Email Address cannot be blank
                </div>
                <div *ngIf="t2.hasError('email')">
                    Email Address is not in the correct format
                </div>
                <div *ngIf="t2.hasError('email-not-allowed')">
                    Gmail Address not accepted
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" 
                    [(ngModel)]="customer.password" name="t3" #t3="ngModel"
                    required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" />
            <div *ngIf="t3.invalid && (t3.dirty || t3.touched)" class="alert alert-danger">
                <div *ngIf="t3.hasError('required')">
                    Password cannot be blank
                </div>
                <div *ngIf="t3.hasError('pattern')">
                    Password is invalid
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" class="form-control" 
                    [(ngModel)]="customer.confirmPassword" name="t4" #t4="ngModel"
                    [passwordMatch]=t3 />
            <div *ngIf="t4.invalid && (t4.dirty || t4.touched)" class="alert alert-danger">
                <div *ngIf="t4.hasError('password-mismatch')">
                    Password entered is not matching
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Mobile Number</label>
            <input type="number" class="form-control" 
                    [(ngModel)]="customer.mobileNumber" name="t5" />
        </div>

        <div ngModelGroup="address" #address="ngModelGroup">
            <div class="form-group">
                <label>City</label>
                <input type="string" class="form-control" required
                        [(ngModel)]="customer.address.city" name="t6" />
            </div>

            <div class="form-group">
                <label>Pincode</label>
                <input type="number" class="form-control" required
                        [(ngModel)]="customer.address.pincode" name="t7" />
            </div>
            <div *ngIf="address.invalid && address.touched">
                <div>Address has to be entered!</div>
            </div>
        </div>
        <button class="btn">Register</button>
    </form>
</div>